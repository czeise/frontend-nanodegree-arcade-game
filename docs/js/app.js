var Game=function(){this.start()};Game.prototype.start=function(){this.state="start"},Game.prototype.update=function(t){switch(t){case"enter":this.state="running"}},Game.prototype.handleInput=function(t){"start"==game.state&&this.update(t)};var Renderable=function(){};Renderable.prototype.render=function(){ctx.drawImage(Resources.get(this.sprite),this.x,this.y)};var Selector=function(){this.charImages=["images/char-boy.png","images/char-cat-girl.png","images/char-horn-girl.png","images/char-pink-girl.png","images/char-princess-girl.png"],this.sprite="images/Selector.png",this.start()};Selector.prototype=Object.create(Renderable.prototype),Selector.prototype.start=function(){this.player=new Player,this.selected=0,this.x=0,this.y=249},Selector.prototype.update=function(t){switch(t){case"left":this.x>0&&(this.x-=101,this.selected-=1,player.sprite=this.charImages[this.selected]);break;case"right":this.x<404&&(this.x+=101,this.selected+=1,player.sprite=this.charImages[this.selected])}},Selector.prototype.handleInput=function(t){"start"==game.state&&this.update(t)};var Enemy=function(){this.sprite="images/enemy-bug.png",this.start()};Enemy.prototype=Object.create(Renderable.prototype),Enemy.prototype.constructor=Enemy,Enemy.prototype.start=function(){this.x=-101;var t=Math.floor(3*Math.random()+1);this.y=83*t-25,this.speed=Math.floor(500*Math.random()+100)},Enemy.prototype.update=function(t){this.x+=t*this.speed,this.x>505&&this.start(),this.y==player.y&&Math.abs(this.x-player.x)<50&&player.start()};var Player=function(){this.sprite="images/char-boy.png",this.start()};Player.prototype=Object.create(Renderable.prototype),Player.prototype.constructor=Player,Player.prototype.start=function(){this.x=202,this.y=390},Player.prototype.update=function(t){switch(t){case"left":this.x>0&&(this.x-=101);break;case"up":this.y>83?this.y-=83:this.start();break;case"right":this.x<404&&(this.x+=101);break;case"down":this.y<332&&(this.y+=83)}},Player.prototype.handleInput=function(t){"running"==game.state&&this.update(t)};var game=new Game,selector=new Selector,allEnemies=[new Enemy,new Enemy,new Enemy],player=new Player;document.addEventListener("keydown",function(t){var e={37:"left",38:"up",39:"right",40:"down",13:"enter"};selector.handleInput(e[t.keyCode]),game.handleInput(e[t.keyCode]),player.handleInput(e[t.keyCode])});